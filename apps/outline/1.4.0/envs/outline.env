NODE_ENV=production

# 访问地址
URL=

# 服务端口
PORT=3000

# 运行一个独立的协作服务
COLLABORATION_URL=

# CDN 分发服务
CDN_URL=

# 启动多少个 Web 进程
WEB_CONCURRENCY=1

# 生成一个 32 字节的随机密钥（十六进制编码）。
# 可在终端中使用命令：`openssl rand -hex 32`
# SECRET_KEY=

# 生成一个唯一的随机密钥。
# 格式并不重要，但同样可以使用：`openssl rand -hex 32`
# UTILS_SECRET=

# 默认界面语言。
# 可用语言代码及其大致翻译完成度请参考：https://translate.getoutline.com
DEFAULT_LANGUAGE=zh_CN


# ––––––––––––––––––––––––––––––––––––––
# –––––––––––––  数据库（DATABASE） –––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 生产环境数据库连接地址，
# 需包含用户名、密码、主机、端口以及数据库名。
# DATABASE_URL=postgres://user:pass@postgres:5432/outline

# 每个进程的数据库连接池（内存中）配置。
# 请确保连接池大小不会超过数据库允许的最大连接数。
# 默认最小值为 0，最大值为 5。
DATABASE_CONNECTION_POOL_MIN=0
DATABASE_CONNECTION_POOL_MAX=5

# 如果你不打算使用 SSL 连接 Postgres，请取消注释此行。
# 当数据库与应用部署在同一台机器上时，这是可以接受的。
PGSSLMODE=disable


# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––––  Redis  –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# Redis 连接地址。
# 可以是 ioredis 兼容的 URL，或者 Base64 编码后的配置对象。
# 文档：https://docs.getoutline.com/s/hosting/doc/redis-LGM4BFXYp4
# REDIS_URL=redis://redis:6379

# 若要启用协作服务的横向扩展（多实例），必须提供 Redis 地址。
# 可以与上面的 REDIS_URL 相同，也可以使用不同的 Redis 服务。
# 文档：https://docs.getoutline.com/s/hosting/doc/horizontal-scaling-hkfU5Stao7
# REDIS_COLLABORATION_URL=


# ––––––––––––––––––––––––––––––––––––––
# –––––––––––  文件存储（FILE STORAGE） –––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 指定使用的存储系统。
# 可选值："s3" 或 "local"。
# - local：图片和文档附件存储在本地磁盘
# - s3：存储在兼容 S3 的对象存储服务中
# 文档：https://docs.getoutline.com/s/hosting/doc/file-storage-N4M0T6Ypu7
FILE_STORAGE=local

# 当 FILE_STORAGE=local 时，
# 此路径为所有附件 / 图片的父目录。
# 请确保进程有权限创建该目录并写入文件。
FILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data

# 单个附件允许上传的最大大小（字节）。
FILE_STORAGE_UPLOAD_MAX_SIZE=262144000

# 覆盖“文档导入”的最大文件大小，
# 通常应小于普通文档附件的最大限制。
FILE_STORAGE_IMPORT_MAX_SIZE=

# 覆盖“工作区导入”的最大文件大小。
# 该类文件通常非常大，并且是临时文件，
# 在一段时间后会被自动删除。
FILE_STORAGE_WORKSPACE_IMPORT_MAX_SIZE=

# 若要在分布式架构中支持头像图片和文档附件上传，
# 当 FILE_STORAGE=s3 时，可配置兼容 S3 的对象存储。
# AWS_ACCESS_KEY_ID=get_a_key_from_aws
# AWS_SECRET_ACCESS_KEY=get_the_secret_of_above_key
# AWS_REGION=xx-xxxx-x
# AWS_S3_ACCELERATE_URL=
# AWS_S3_UPLOAD_BUCKET_URL=http://s3:4569
# AWS_S3_UPLOAD_BUCKET_NAME=bucket_name_here
# AWS_S3_FORCE_PATH_STYLE=true
# AWS_S3_ACL=private


# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––––––  SSL  –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# HTTPS 终止所需的私钥和证书（Base64 编码）。
# 这是三种 SSL 配置方式之一，可以留空。
# 文档：https://docs.getoutline.com/s/hosting/doc/ssl-pzk7WO8d1n
SSL_KEY=
SSL_CERT=

# 在生产环境中是否强制跳转到 HTTPS。
# 默认值为 true；
# 如果你确定 SSL 已由外部负载均衡器终止，可以设置为 false。
# FORCE_HTTPS=true


# ––––––––––––––––––––––––––––––––––––––
# ––––––––––  认证（AUTHENTICATION） ––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 第三方登录配置。
# 至少需要配置以下之一：Google、Slack、Discord 或 Microsoft，
# 否则系统将没有任何登录方式。

# Slack 登录
# 文档：https://docs.getoutline.com/s/hosting/doc/slack-sgMujR8J9J
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=

# Google 登录
# 文档：https://docs.getoutline.com/s/hosting/doc/google-hOuvtCmTqQ
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Microsoft Entra / Azure AD 登录
# 文档：https://docs.getoutline.com/s/hosting/doc/microsoft-entra-UVz6jsIOcv
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_RESOURCE_APP_ID=

# Discord 登录
# 文档：https://docs.getoutline.com/s/hosting/doc/discord-g4JdWFFub6
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_SERVER_ID=
DISCORD_SERVER_ROLES=

# 通用 OIDC（OpenID Connect）提供方
# 文档：https://docs.getoutline.com/s/hosting/doc/oidc-8CPBm6uC0I
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_AUTH_URI=
OIDC_TOKEN_URI=
OIDC_USERINFO_URI=
OIDC_LOGOUT_URI=

# 指定用于派生用户信息的声明（claim）。
# 支持任何 JWT payload 中的合法 JSON Path。
OIDC_USERNAME_CLAIM=preferred_username

# OIDC 登录方式在界面上显示的名称
OIDC_DISPLAY_NAME=OpenID Connect

# OIDC 授权作用域（以空格分隔）
OIDC_SCOPES=openid profile email


# ––––––––––––––––––––––––––––––––––––––
# ––––––––––––––  邮件（EMAIL） –––––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 若要发送诸如“文档更新通知”或“邮箱登录”等事务性邮件，
# 需要配置一个 SMTP 服务器。
# 可使用以下列表中的任意服务：
# https://community.nodemailer.com/2-0-0-beta/setup-smtp/well-known-services/
# 文档：https://docs.getoutline.com/s/hosting/doc/smtp-cqCJyZGMIB
SMTP_SERVICE=
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=


# ––––––––––––––––––––––––––––––––––––––
# ––––––––––  限流器（RATE LIMITER） ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 是否启用限流器
RATE_LIMITER_ENABLED=true

# 各个接口本身有硬编码的限流规则（在启用上项后生效），
# 以下是一个全局限流器配置，作用于所有请求。
RATE_LIMITER_REQUESTS=1000
RATE_LIMITER_DURATION_WINDOW=60


# ––––––––––––––––––––––––––––––––––––––
# –––––––––––  集成（INTEGRATIONS） –––––––––––
# ––––––––––––––––––––––––––––––––––––––

# GitHub 集成，用于预览 Issue 和 Pull Request 链接
# 文档：https://docs.getoutline.com/s/hosting/doc/github-GchT3NNxI9
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_WEBHOOK_SECRET=
GITHUB_APP_NAME=
GITHUB_APP_ID=
GITHUB_APP_PRIVATE_KEY=

# Linear 集成，用于将 Issue 链接显示为富文本提及
LINEAR_CLIENT_ID=
LINEAR_CLIENT_SECRET=

# 若要实现完整的 Slack 集成（搜索、向频道发送消息），
# 除 Slack 登录外，还需要以下配置：
# 文档：https://docs.getoutline.com/s/hosting/doc/slack-G2mc8DOJHk
SLACK_VERIFICATION_TOKEN=
SLACK_APP_ID=
SLACK_MESSAGE_ACTIONS=true

# Figma 集成，用于将设计文件显示为富文本预览
FIGMA_CLIENT_ID=
FIGMA_CLIENT_SECRET=

# Dropbox 集成。
# 按以下说明获取 key：https://www.dropbox.com/developers/embedder#setup
# 并记得在应用设置中将你的域名加入白名单。
DROPBOX_APP_KEY=

# 可选：启用 Sentry（sentry.io）用于错误和性能监控
# 文档：https://docs.getoutline.com/s/hosting/doc/sentry-jxcFttcDl5
SENTRY_DSN=
SENTRY_TUNNEL=

# 启用从 Notion 工作区导入页面
# 文档：https://docs.getoutline.com/s/hosting/doc/notion-2v6g7WY3l3
NOTION_CLIENT_ID=
NOTION_CLIENT_SECRET=

# Iframely 集成，允许在 Outline 中预览第三方内容。
# 例如：鼠标悬停在外部链接上时显示预览。
# 文档：https://docs.getoutline.com/s/hosting/doc/iframely-HwLF1EZ9mo
IFRAMELY_URL=
IFRAMELY_API_KEY=


# ––––––––––––––––––––––––––––––––––––––
# –––––––––––––  调试（DEBUGGING） ––––––––––––
# ––––––––––––––––––––––––––––––––––––––

# 是否通过发送匿名统计信息来检查更新
ENABLE_UPDATES=false

# 启用的调试分类。
# 如果你的代理已经记录了 HTTP 请求日志，
# 可移除默认的 "http"，以避免重复日志。
DEBUG=http

# 服务器日志的最低级别，可选值：
# error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info
